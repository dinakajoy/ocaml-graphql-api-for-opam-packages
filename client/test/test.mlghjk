open Brr
(* open Brr_io *)

let button onclick label =
  let but = El.button [ El.txt (Jstr.v label) ] in
  Ev.listen Ev.click onclick (El.as_target but);
  but

(* let main () = let h1 = El.h1 [El.txt' "Console test"] in let info = El.p [
   El.txt' "See the browser console"] in let clear = button (fun e ->
   Console.clear ()) "Clear console" in El.set_children (Document.body
   G.document) [h1; info; clear]; test () *)

let main () =
  let id = Jstr.v "opam_packages" in
  match Document.find_el_by_id G.document id with
  | None ->
    Console.(error [ str "No element with id '%s' found"; id ])
  | Some el ->
    let at = At.[ class' (Jstr.v "title") ] in
    let h1 = El.h1 ~at [ El.txt' "Opam Packages" ] in
    let p = El.p [ El.txt' "My paragraphhhhh hhhhhh" ] in
    let children = [ h1; p ] in
    (* Ev.listen Ev.click onclick (El.as_target el) *)
    (* let todos, children = ui ~todos:(load_state ()) in Logr.(hold @@ S.log
       todos save_state); *)
    El.set_children el children

let () = main ()
